{erl_opts, [debug_info]}.

{pre_hooks, [
    {"(linux|darwin|solaris)", compile, "cargo build --release"},
    {"win32", compile, "cargo build --release"}
]}.

{post_hooks, [
    {"(linux|darwin|solaris)", compile, "sh -c 'mkdir -p priv && cp target/release/libiota_nif.so priv/ 2>/dev/null || cp target/release/libiota_nif.dylib priv/libiota_nif.so 2>/dev/null || true'"},
    {"win32", compile, "cmd /c \"mkdir priv 2>nul & copy target\\release\\iota_nif.dll priv\\libiota_nif.dll\""}
]}.

{deps, []}.

{profiles, [
    {test, [
        {erl_opts, [debug_info]}
    ]}
]}.
